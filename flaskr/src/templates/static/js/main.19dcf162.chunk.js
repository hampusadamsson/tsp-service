(this.webpackJsonptsp=this.webpackJsonptsp||[]).push([[0],{36:function(e,t,n){e.exports=n(67)},41:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(31),l=n.n(r),c=(n(41),n(12)),i=n(13),u=n(16),s=n(14),d=n(15),m=n(9),p=n.n(m),b=(n(59),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={result:[]},n.getHighscore(),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"getHighscore",value:function(){var e=this;p.a.get("/getHighscore").then((function(t){e.setState({result:t.data})}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"Container"},o.a.createElement("table",{id:"customers"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Rank"),o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Score"),o.a.createElement("th",null,"Date")),this.state.result.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,t+1),o.a.createElement("td",null,e[0]),o.a.createElement("td",null,parseInt(e[1])),o.a.createElement("td",null,e[2]))}))))))}}]),t}(a.Component)),h=n(8),f=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={name:"",distance:"",imgSource:"/img"},n.onChangeHandler=n.onChangeHandler.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onChangeHandler",value:function(e){var t=this;console.log("INC",e.target.files[0]);var n=new FormData;n.append("file",e.target.files[0]);var a=prompt("Please enter your name","");""!==a&&a?(n.append("user",a),p.a.post("/uploadSolution",n,{}).then((function(e){console.log(e.data),t.setState({distance:e.data.distance})}))):alert("You need to add a name")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("input",{className:"inputfile",type:"file",name:"file",onChange:this.onChangeHandler}),o.a.createElement("div",{className:"Container"},o.a.createElement("b",null,this.state.distance)),o.a.createElement("div",null))}}]),t}(a.Component),g=n(11),E=n(7),v=n(35),j={column:-1,row:-1,startPoint:null,direction:"",dropIndex:-1},w=function(e){var t=e.heads,n=void 0===t?[]:t,r=e.rows,l=void 0===r?[]:r,c=e.onDragEnd,i=Object(a.useState)(Object(E.a)({},j)),u=Object(v.a)(i,2),s=u[0],d=u[1],m=Object(a.useRef)(null),p=Object(a.useRef)(null),b=Object(a.useRef)(null);return"column"===s.direction&&(n=O(s.column,s.dropIndex,n),l=l.map((function(e){return O(s.column,s.dropIndex,e)}))),"row"===s.direction&&(l=O(s.row,s.dropIndex,l)),o.a.createElement("div",null,o.a.createElement("table",{id:"customers"},o.a.createElement("thead",null,o.a.createElement("tr",{ref:m},n.map((function(e,t){return o.a.createElement("th",{key:t},e)})))),o.a.createElement("tbody",{ref:p},l.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return o.a.createElement("tr",{key:t},e.map((function(e,a){return o.a.createElement("td",{key:a,draggable:"true",onDragStart:function(e){console.log("onDragStart"),e.dataTransfer.setDragImage(b.current,0,0),d(Object(E.a)({},s,{row:t,column:a,startPoint:{x:e.pageX,y:e.pageY}}))},onDragEnter:function(e){if(console.log("onDragEnter"),!s.direction)return s.column!==a?void d(Object(E.a)({},s,{direction:"column",dropIndex:a})):s.row!==t?void d(Object(E.a)({},s,{direction:"row",dropIndex:t})):void 0;"column"!==s.direction?"row"!==s.direction||t!==s.dropIndex&&d(Object(E.a)({},s,{dropIndex:t})):a!==s.dropIndex&&d(Object(E.a)({},s,{dropIndex:a}))},onDragEnd:function(){console.log("onDragEnd"),c(s.direction,"column"===s.direction?s.column:s.row,s.dropIndex,{heads:n,rows:l}),d(Object(E.a)({},j))}},e)})))})))),o.a.createElement("div",{ref:b,style:{position:"absolute",width:0,height:0,overflow:"hidden"}}))};function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e<t){var a=n.slice(0,e),o=n.slice(e+1,t+1),r=n.slice(t+1);return[].concat(Object(g.a)(a),Object(g.a)(o),[n[e]],Object(g.a)(r))}if(e>t){var l=n.slice(0,t),c=n.slice(t,e),i=n.slice(e+1);return[].concat(Object(g.a)(l),[n[e]],Object(g.a)(c),Object(g.a)(i))}return n}var S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={result:[],solution:[],problemfile:"",data:{heads:["Id","Kontor","Long","Lat"],rows:[]},imgSource:"/img"},n.downloadTxtFile=n.downloadTxtFile.bind(Object(h.a)(n)),n.SubmitSolution=n.SubmitSolution.bind(Object(h.a)(n)),n.getProblem(),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"getProblem",value:function(){var e=this;p.a.get("/tsp").then((function(t){console.log(t.data);var n=t.data.slice(0,-2).split("\n");e.setState({result:n,problemfile:t.data,data:{heads:e.state.data.heads,rows:n.map((function(e){return e.split("\t")}))}})}))}},{key:"downloadTxtFile",value:function(e){console.log(t);var t,n=document.createElement("a");t="problem"===e?new Blob([this.state.problemfile],{type:"text/plain"}):new Blob([String(this.state.data.rows.map((function(e){return e[0]}))).split(",").join("\n")],{type:"text/plain"}),n.href=URL.createObjectURL(t),n.download=e+".txt",document.body.appendChild(n),n.click()}},{key:"SubmitSolution",value:function(){var e=this,t=this.state.data.rows.map((function(e){return e[0]}));console.log(t);var n=prompt("Please enter your name","");if(""!==n&&n){var a=new FormData;a.set("user",n),a.append("solution","["+t+"]"),p.a.post("/submitSolution",a).then((function(n){console.log(n.data),e.setState({distance:n.data.distance,imgSource:"/img/"+String(t).split(",").join("-")})}))}else alert("You need to add a name")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.distance,o.a.createElement(w,{heads:this.state.data.heads,rows:this.state.data.rows,onDragEnd:function(t,n,a,o){console.log({type:t,from:n,to:a,newData:o}),e.setState({data:o})}}),o.a.createElement("div",null,o.a.createElement("button",{className:"button",onClick:function(t){return e.downloadTxtFile("problem")}},"Assignment"),o.a.createElement("button",{className:"button",onClick:function(t){return e.downloadTxtFile("solution")}},"Solution example"),o.a.createElement("button",{className:"button",onClick:function(t){return e.SubmitSolution(t)}},"Submit")),o.a.createElement("b",null,"Solution"),o.a.createElement("br",null),this.state.distance,o.a.createElement("div",null,o.a.createElement("img",{src:this.state.imgSource,alt:"my plot"})))}}]),t}(a.Component),x=(n(60),function(){return o.a.createElement("div",{className:"Nav"},o.a.createElement("a",{href:"/highscore",className:"button"},"Highscore"),o.a.createElement("a",{href:"/problem",className:"button"},"Problem"),o.a.createElement("a",{href:"/submit",className:"button"},"Submit"))}),y=(n(61),n(32)),k=n(6);var I=function(){return o.a.createElement("div",null,o.a.createElement(x,null),o.a.createElement(y.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(k.c,null,o.a.createElement(k.a,{exact:!0,path:"/",component:b}),o.a.createElement(k.a,{exact:!0,path:"/problem",component:S}),o.a.createElement(k.a,{exact:!0,path:"/highscore",component:b}),o.a.createElement(k.a,{exact:!0,path:"/submit",component:f})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.19dcf162.chunk.js.map